<!DOCTYPE html> 
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="login.css" />
    <link rel="stylesheet" href="login.js">
    <title>Nexus - Login</title>

</head>

<script>
    function efetuarLogin (){
     event.preventDefault(); // Evita o reload da p치gina

    // Obter valores dos campos do formul치rio
    const usuario = document.getElementById("nome").value;
    const senha = document.getElementById("oi").value;

    // DTO que ser치 enviado no corpo da requisi칞칚o
    const papel  = {
        login: usuario,
        senha: senha
       }

     
       

    // Configura칞칚o da requisi칞칚o
    fetch("http://localhost:8080/aulaLista/dados", {
    //fetch("http://localhost:8080/usuarioController/autenticar", {
        method: "GET", // M칠todo HTTP
        headers: {
            "Content-Type": "application/json", // Tipo de conte칰do enviado
        }
        //body: JSON.stringify(dto), // Converte o DTO para JSON
    })
        .then((response) => { //opcional
            if (!response.ok) {
                throw new Error("Usu치rio ou senha inv치lidos");
            }

            //href = 'home'

            return response.json(); // Receber a mensagem de sucesso
        })
        .then((data) => {
            alert(data); // Exibe a mensagem retornada pelo backend
            // Redirecionar para o dashboard (caso necess치rio)
            window.location.href = "cadastro.html";
        })
        .catch((error) => {
            alert("Erro: " + error.message); // Exibe a mensagem de erro
        });

}

// dar uma olhada no button onclick e <button type="submit">Entrar</button>
// testar GET, POST, PUT, DELETE   

</script>

<body>

    <!--

       <div>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M64 112c-8.8 0-16 7.2-16 16l0 22.1L220.5 291.7c20.7 17 50.4 17 71.1 0L464 150.1l0-22.1c0-8.8-7.2-16-16-16L64 112zM48 212.2L48 384c0 8.8 7.2 16 16 16l384 0c8.8 0 16-7.2 16-16l0-171.8L322 328.8c-38.4 31.5-93.7 31.5-132 0L48 212.2zM0 128C0 92.7 28.7 64 64 64l384 0c35.3 0 64 28.7 64 64l0 256c0 35.3-28.7 64-64 64L64 448c-35.3 0-64-28.7-64-64L0 128z"/></svg>
        </div>

    -->
        

    <div class="login-container">
        <h1>Bem-vindo ao Nexus!游뿣</h1>
        <p>Gerencie suas finan칞as de forma inteligente!</p>

        <form id="loginForm" method="POST">
            <label for="nome">Nome:</label>
            <input type="text" id="nome"  placeholder="Digite seu nome" required>
        
            <label for="senha">Senha:</label>
            <input type="password" id="senha" placeholder="Digite sua senha" required>
        
        <button onclick="efetuarLogin()">Entrar</button>

        </form>
    
        <p class="register-text">N칚o tem uma conta? <a href="../cadastro/cadastro.html">Cadastre-se</a></p>

    </div>

</body>
</html>
