<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8" />
    <title>Metas Financeiras</title>

    <!-- Base do tema/estilo (mesmo “look” de Transações) -->
    <link rel="stylesheet" href="../transacoes/transacoes.css">

    <!-- Estilos específicos de Metas (pequenos ajustes) -->
    <link rel="stylesheet" href="./metas.css">

    <script src="./metas.js" defer></script>
</head>

<body>
    <a href="#conteudo" class="skip-link">Pular para o conteúdo</a>

    <div class="container">
        <div class="topbar">
            <button class="btn-ghost" onclick="history.back()">← Voltar</button>
            <h1>Metas Financeiras</h1>
            <div class="secret-btn">
                <label class="toggle">
                    <input id="compactSwitch" type="checkbox" />
                    Modo compacto
                </label>
            </div>
        </div>

        <main id="conteudo">
            <section class="grid-2">
                <!-- FORM -->
                <form id="form-meta" class="card">
                    <div class="field">
                        <label for="nomeMeta">Nome da Meta</label>
                        <input type="text" id="nomeMeta" required />
                    </div>

                    <div class="row">
                        <div class="field" style="flex:1">
                            <label for="valorTotal">Valor Total (R$)</label>
                            <input type="number" id="valorTotal" min="0" step="0.01" required />
                        </div>
                        <div class="field" style="flex:1">
                            <label for="valorPoupado">Poupado Inicial (R$)</label>
                            <input type="number" id="valorPoupado" min="0" step="0.01" value="0" required />
                        </div>
                    </div>

                    <div class="actions">
                        <button type="submit" class="btn-primary">Adicionar meta</button>
                        <button type="reset" class="btn-outline">Limpar</button>
                    </div>
                    <small class="hint sr-note">Dica: você pode atualizar a poupança depois em “+ Poupança”.</small>
                </form>

                <!-- KPIs -->
                <aside class="resumo">
                    <div class="kpis">
                        <div class="kpi">
                            <div class="label">Qtd. de Metas</div>
                            <div id="kpiTotal" class="value">0</div>
                        </div>
                        <div class="kpi pos">
                            <div class="label">Total Poupado</div>
                            <div id="kpiPoupado" class="value">R$ 0,00</div>
                        </div>
                        <div class="kpi">
                            <div class="label">Restante</div>
                            <div id="kpiRestante" class="value">R$ 0,00</div>
                        </div>
                    </div>
                </aside>
            </section>

            <!-- LISTA (tabela no mesmo estilo de Transações) -->
            <section class="salvos">
                <div class="salvos-header">
                    <h2 class="truncate-1">Metas salvas</h2>
                </div>

                <div class="table-wrap">
                    <table class="tabela" id="tabelaMetas">
                        <thead>
                            <tr>
                                <th>Meta</th>
                                <th>Valor total</th>
                                <th>Poupado</th>
                                <th>Progresso</th>
                                <th class="col-acoes">Ações</th>
                            </tr>
                        </thead>
                        <tbody id="listaMetas"></tbody>
                    </table>
                </div>
            </section>
        </main>
    </div>
</body>

</html>